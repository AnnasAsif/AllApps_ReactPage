{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\muhammadannasasif\\\\Desktop\\\\Frontends\\\\frame_panel\\\\frontend\\\\src\\\\component\\\\AddFrame.js\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class AddFrame extends Component {\n  constructor(props) {\n    super(props);\n    this.bundlesdata = {\n      bundles: [],\n      trigger: false\n    };\n    this.state = {\n      height: '',\n      width: '',\n      X: '',\n      Y: '',\n      category: '5ff5a1d93bbf9374326985de',\n      folder: 'love',\n      bundle: 'bundle1',\n      image: [],\n      images: {}\n    };\n    this.handleChangeX = this.handleChangeX.bind(this);\n    this.handleChangeY = this.handleChangeY.bind(this);\n    this.handleChangeH = this.handleChangeH.bind(this);\n    this.handleChangeW = this.handleChangeW.bind(this);\n    this.categoryChange = this.categoryChange.bind(this);\n    this.bundleChange = this.bundleChange.bind(this);\n    this.onImageChange = this.onImageChange.bind(this);\n    this.onImagesChange = this.onImagesChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChangeX(event) {\n    this.setState({\n      X: event.target.value\n    });\n    console.log(\"X: \", event.target.value);\n  }\n\n  handleChangeY(event) {\n    this.setState({\n      Y: event.target.value\n    });\n    console.log(\"Y: \", event.target.value);\n  }\n\n  handleChangeH(event) {\n    this.setState({\n      height: event.target.value\n    });\n    console.log(\"H: \", event.target.value);\n  }\n\n  handleChangeW(event) {\n    this.setState({\n      width: event.target.value\n    });\n    console.log(\"W: \", event.target.value);\n  }\n\n  async categoryChange(event) {\n    console.log('CATEGORY SUBMISSION 1', event.value);\n    console.log('CATEGORY SUBMISSION 2', event.value2);\n    console.log('BUNDLES', this.bundlesdata.bundles);\n    this.setState({\n      category: event.value\n    });\n    await fetch(`http://172.16.0.107:9000/api/tas/temp?folder=${event.value2}`).then(response => response.json()).then(actualData => {\n      console.log('response: ', actualData);\n      this.bundlesdata.bundles = actualData.data;\n      this.bundlesdata.trigger = true;\n      console.log('BUNDLES', this.bundlesdata.bundles);\n\n      if (actualData.status) {\n        this.setState({\n          data: actualData.frames\n        });\n      } else console.log(\"ERROR\");\n    }).catch(err => {\n      console.log(err.message);\n    });\n  }\n\n  bundleChange(event) {\n    console.log('BUNDLE SUBMISSION', event.value);\n    this.setState({\n      bundle: event.value\n    });\n  }\n\n  onImageChange(event) {\n    console.log(event.target.files);\n    this.setState({\n      image: event.target.files[0]\n    });\n  }\n\n  onImagesChange(event) {\n    console.log('multiple', typeof event.target.files);\n    console.log('multiple', event.target.files[1]); // var filesArr = [];\n    // for(let a=0; a<event.target.files.length; a++){\n    //   filesArr.push(event.target.files[a])\n    // }\n    // console.log(\"FILES\",filesArr);\n\n    this.setState({\n      images: event.target.files\n    });\n    console.log(this.state);\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    const formData = new FormData();\n\n    for (let x in this.state) {\n      formData.append(x, this.state[x]); //saving data in formData\n\n      console.log(x, ': ', this.state[x]);\n    }\n\n    var api;\n\n    if (this.state.category === '5ff5a1d93bbf9374326985de') {\n      api = \"http://172.16.0.107:9001/api/rooms/love\";\n      console.log(\"API 1 CALLED\");\n    } else if (this.state.category === '5ff7fab5f0dfd4c8479c5912') {\n      api = \"http://172.16.0.107:9001/api/rooms/comic\";\n      console.log(\"API 2 CALLED\");\n    } else if (this.state.category === '5ff5a1d93bbf9374326985db') {\n      api = \"http://172.16.0.107:9001/api/rooms/birthday\";\n      console.log(\"API 2 CALLED\");\n    } else if (this.state.category === '5ff7fab5f0dfd4c8479c5913') {\n      api = \"http://172.16.0.107:9001/api/rooms/magazine\";\n      console.log(\"API 2 CALLED\");\n    } else if (this.state.category === '5ff7fab5f0dfd4c8479c5914') {\n      api = \"http://172.16.0.107:9001/api/rooms/news\";\n      console.log(\"API 2 CALLED\");\n    } else {\n      console.log(\"-----------------\", this.state);\n    } //  wait(1)\n\n\n    if (api) {\n      const data = await fetch(api, {\n        method: \"post\",\n        // headers: { \"Content-Type\": \"multipart/form-data\" },\n        body: formData\n      });\n      const uploadedImage = await data.json();\n      console.log(uploadedImage);\n      alert(\"Frame is saved\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Add Frame\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-box\",\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          placeholder: \"Select Frame...\",\n          name: \"selectList\",\n          required: true,\n          id: \"selectList\",\n          onChange: this.categoryChange,\n          options: this.props.categoryOptions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), this.bundlesdata.trigger === true && /*#__PURE__*/_jsxDEV(Select, {\n          placeholder: \"Select Bundle...\",\n          name: \"selectBundle\",\n          required: true,\n          id: \"selectBundle\",\n          onChange: this.bundleChange,\n          options: this.bundlesdata.bundles\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }, this), \"Coordinates\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }, this), \"X:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.X,\n          onChange: this.handleChangeX\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 17\n        }, this), \"\\xA0\\xA0\\xA0 Y:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.Y,\n          onChange: this.handleChangeY\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }, this), \"H:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.height,\n          onChange: this.handleChangeH\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }, this), \"\\xA0\\xA0\\xA0 W:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.width,\n          onChange: this.handleChangeW\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  }\n\n}\nexport default AddFrame;","map":{"version":3,"sources":["C:/Users/muhammadannasasif/Desktop/Frontends/frame_panel/frontend/src/component/AddFrame.js"],"names":["React","Component","Select","AddFrame","constructor","props","bundlesdata","bundles","trigger","state","height","width","X","Y","category","folder","bundle","image","images","handleChangeX","bind","handleChangeY","handleChangeH","handleChangeW","categoryChange","bundleChange","onImageChange","onImagesChange","handleSubmit","event","setState","target","value","console","log","value2","fetch","then","response","json","actualData","data","status","frames","catch","err","message","files","preventDefault","formData","FormData","x","append","api","method","body","uploadedImage","alert","render","categoryOptions"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Select from 'react-select'\r\n\r\nexport class AddFrame extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.bundlesdata = {bundles: [], trigger: false};\r\n        this.state = {height: '', width: '', X: '', Y: '', category: '5ff5a1d93bbf9374326985de', folder: 'love', bundle: 'bundle1', image: [], images: {}};\r\n        this.handleChangeX = this.handleChangeX.bind(this);\r\n        this.handleChangeY = this.handleChangeY.bind(this);\r\n        this.handleChangeH = this.handleChangeH.bind(this);\r\n        this.handleChangeW = this.handleChangeW.bind(this);\r\n        this.categoryChange = this.categoryChange.bind(this);\r\n        this.bundleChange = this.bundleChange.bind(this);\r\n        this.onImageChange = this.onImageChange.bind(this);\r\n        this.onImagesChange = this.onImagesChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n      }\r\n\r\n      handleChangeX(event) {    this.setState({X: event.target.value}); console.log(\"X: \", event.target.value); }\r\n      handleChangeY(event) {    this.setState({Y: event.target.value}); console.log(\"Y: \", event.target.value); }\r\n      handleChangeH(event) {    this.setState({height: event.target.value}); console.log(\"H: \", event.target.value); }\r\n      handleChangeW(event) {    this.setState({width: event.target.value}); console.log(\"W: \", event.target.value); }\r\n      async categoryChange(event) {    \r\n        console.log('CATEGORY SUBMISSION 1',event.value);\r\n        console.log('CATEGORY SUBMISSION 2',event.value2);\r\n        console.log('BUNDLES',this.bundlesdata.bundles);\r\n        this.setState({category: event.value}); \r\n        \r\n        await fetch(`http://172.16.0.107:9000/api/tas/temp?folder=${event.value2}`)\r\n        .then((response) => response.json())\r\n        .then( (actualData) => {\r\n          console.log('response: ', actualData);\r\n          this.bundlesdata.bundles = actualData.data ;\r\n          this.bundlesdata.trigger = true ;\r\n          console.log('BUNDLES',this.bundlesdata.bundles);\r\n          if(actualData.status)\r\n          {\r\n            this.setState({data: actualData.frames})\r\n          }\r\n          else\r\n            console.log(\"ERROR\");\r\n        })\r\n        .catch((err) => {\r\n         console.log(err.message);\r\n        }); \r\n      }\r\n      bundleChange(event) {    \r\n        console.log('BUNDLE SUBMISSION',event.value);\r\n        this.setState({bundle: event.value});  \r\n      }\r\n      onImageChange(event) {\r\n        console.log(event.target.files);\r\n        this.setState({image: event.target.files[0]});  \r\n      }\r\n      onImagesChange(event) {\r\n        console.log('multiple',typeof(event.target.files));\r\n        console.log('multiple',event.target.files[1]);\r\n        // var filesArr = [];\r\n        // for(let a=0; a<event.target.files.length; a++){\r\n        //   filesArr.push(event.target.files[a])\r\n        // }\r\n        // console.log(\"FILES\",filesArr);\r\n        this.setState({images: event.target.files});  \r\n        console.log(this.state);\r\n      }\r\n      async handleSubmit(event) {\r\n        \r\n        event.preventDefault();\r\n        const formData = new FormData();\r\n        for (let x in this.state) {\r\n          formData.append(x, this.state[x]);          //saving data in formData\r\n          console.log(x, ': ', this.state[x]);\r\n          \r\n       }\r\n       var api;\r\n       if(this.state.category === '5ff5a1d93bbf9374326985de'){\r\n         api = \"http://172.16.0.107:9001/api/rooms/love\";\r\n         console.log(\"API 1 CALLED\");\r\n        }\r\n        else if(this.state.category === '5ff7fab5f0dfd4c8479c5912'){\r\n          api = \"http://172.16.0.107:9001/api/rooms/comic\"\r\n          console.log(\"API 2 CALLED\");\r\n       }\r\n        else if(this.state.category === '5ff5a1d93bbf9374326985db'){\r\n          api = \"http://172.16.0.107:9001/api/rooms/birthday\"\r\n          console.log(\"API 2 CALLED\");\r\n       }\r\n        else if(this.state.category === '5ff7fab5f0dfd4c8479c5913'){\r\n          api = \"http://172.16.0.107:9001/api/rooms/magazine\"\r\n          console.log(\"API 2 CALLED\");\r\n       }\r\n        else if(this.state.category === '5ff7fab5f0dfd4c8479c5914'){\r\n          api = \"http://172.16.0.107:9001/api/rooms/news\"\r\n          console.log(\"API 2 CALLED\");\r\n       }\r\n       else{\r\n         console.log(\"-----------------\", this.state);\r\n       }\r\n\r\n      //  wait(1)\r\n       if(api){\r\n        const data = await fetch(api, {\r\n          method: \"post\",\r\n          // headers: { \"Content-Type\": \"multipart/form-data\" },\r\n          body: formData,\r\n        });\r\n        const uploadedImage = await data.json();\r\n        console.log(uploadedImage);\r\n        alert(\"Frame is saved\");\r\n       }\r\n\r\n\r\n      }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <h1 >Add Frame</h1>\r\n          <form className='form-box' onSubmit={this.handleSubmit}>\r\n            <Select \r\n              placeholder='Select Frame...' \r\n              name='selectList' \r\n              required \r\n              id='selectList' \r\n              onChange={this.categoryChange} \r\n              options={this.props.categoryOptions}\r\n            />\r\n            <br/>\r\n            {\r\n              this.bundlesdata.trigger === true &&\r\n              <Select placeholder='Select Bundle...' name='selectBundle' required id='selectBundle' onChange={this.bundleChange} options={this.bundlesdata.bundles}/>\r\n            }\r\n            <br/>\r\n                <br/>\r\n                <br/>\r\n                Coordinates\r\n                <br/>\r\n                X: \r\n                <input type=\"text\" value={this.state.X} onChange={this.handleChangeX} />\r\n                &nbsp;&nbsp;&nbsp;\r\n                Y: \r\n                <input type=\"text\" value={this.state.Y} onChange={this.handleChangeY} />\r\n                <br/>\r\n                <br/>\r\n                H: \r\n                <input type=\"text\" value={this.state.height} onChange={this.handleChangeH} />\r\n                &nbsp;&nbsp;&nbsp;\r\n                W: \r\n                <input type=\"text\" value={this.state.width} onChange={this.handleChangeW} />\r\n                <br/>\r\n                <br/>\r\n\r\n                {/* <input type=\"file\" required onChange={this.onImageChange} /> */}\r\n                {/* <input type=\"file\" multiple accept='image/*' onChange={this.onImagesChange} /> */}\r\n                <br/>\r\n              <input type=\"submit\" value=\"Submit\" />\r\n          </form>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddFrame"]},"metadata":{},"sourceType":"module"}